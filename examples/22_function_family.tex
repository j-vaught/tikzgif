% Example 22: Function Family Animation
% Animates y = x^n as the exponent sweeps from 0.3 to 5.0.
% Parameter: \PARAM (exponent n, range 0.3..5.0)
% Range: 0.3 to 5.0, recommended 48 frames
% Difficulty: beginner
% Features demonstrated: power curves, function families, exponent variation
\documentclass[border=5pt]{standalone}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{amsmath}
\pgfplotsset{compat=1.18}

% USC Brand Colors
\definecolor{garnet}{HTML}{73000A}
\definecolor{rose}{HTML}{CC2E40}
\definecolor{atlantic}{HTML}{466A9F}
\definecolor{congaree}{HTML}{1F414D}
\definecolor{horseshoe}{HTML}{65780B}
\definecolor{grass}{HTML}{CED318}
\definecolor{honeycomb}{HTML}{A49137}
\definecolor{warmgrey}{HTML}{676156}
\definecolor{sandstorm}{HTML}{FFF2E3}

\begin{document}
\begin{tikzpicture}

\pgfmathsetmacro{\nval}{\PARAM}

\begin{axis}[
    width=10cm, height=8cm,
    xmin=0, xmax=2.2, ymin=0, ymax=5.5,
    xlabel={$x$}, ylabel={$y$},
    title={$y = x^{\pgfmathprintnumber[fixed, precision=2]{\nval}}$},
    grid=major, grid style={warmgrey!20}, thick,
    every axis title/.style={font=\large},
    tick label style={font=\small},
]
    % Ghost family
    \foreach \ghostN in {0.5, 1.0, 2.0, 3.0, 4.0, 5.0} {
        \addplot[domain=0.01:2.2, samples=100, warmgrey!25, thin] {x^\ghostN};
    }

    % Current curve
    \addplot[domain=0.01:2.2, samples=200, atlantic, ultra thick] {x^\nval};

    % Fixed point (1,1)
    \addplot[only marks, mark=*, mark size=3pt, garnet] coordinates {(1, 1)};
    \node[font=\footnotesize, anchor=south west, garnet]
        at (axis cs:1.05, 1.05) {$(1,\,1)$};

    % Identity line
    \addplot[domain=0:2.2, samples=2, dashed, black!30, thin] {x};
\end{axis}

\end{tikzpicture}
\end{document}
